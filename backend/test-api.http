### Carbon Risk Tracker API Tests
### Use with REST Client extension in VS Code or similar tools

@baseUrl = http://localhost:3001/api
@token = your-jwt-token-here

### Health Check
GET {{baseUrl}}/../health

### API Documentation
GET {{baseUrl}}/

### 1. User Signup
POST {{baseUrl}}/auth/signup
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "password123"
}

### 2. User Login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "password123"
}

### 3. Get Regions (No Auth Required)
GET {{baseUrl}}/regions?limit=10&offset=0

### 4. Get Region by ID
GET {{baseUrl}}/regions/region-id-here

### 5. Get Regions Statistics
GET {{baseUrl}}/regions/stats/summary

### 6. Get Footprint Summary (Auth Required)
GET {{baseUrl}}/footprints/summary?period=30d
Authorization: Bearer {{token}}

### 7. Get User Footprints (Auth Required)
GET {{baseUrl}}/footprints?limit=20&offset=0
Authorization: Bearer {{token}}

### 8. Import CSV Footprints (Auth Required)
POST {{baseUrl}}/footprints/import
Authorization: Bearer {{token}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="csvFile"; filename="example.csv"
Content-Type: text/csv

category,amount,unit,date,description,transport_type
transport,100,km,2024-01-15,Commute to work,car
energy,50,kWh,2024-01-15,Electricity usage,
food,2,kg,2024-01-15,Beef dinner,beef
purchase,100,USD,2024-01-15,Online shopping,
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 9. Evaluate Risk (Auth Required)
POST {{baseUrl}}/risk/evaluate
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "footprint_ids": ["footprint-id-1", "footprint-id-2"],
  "region_ids": ["region-id-1", "region-id-2"]
}

### 10. Get Risk Signals by Footprint (Auth Required)
GET {{baseUrl}}/risk/signals/footprint/footprint-id-here
Authorization: Bearer {{token}}

### 11. Get Risk Signals by Region (Auth Required)
GET {{baseUrl}}/risk/signals/region/region-id-here
Authorization: Bearer {{token}}

### 12. Delete Footprint (Auth Required)
DELETE {{baseUrl}}/footprints/footprint-id-here
Authorization: Bearer {{token}}

### Example CSV Data for Testing
# Create a file called test-footprints.csv with this content:
# category,amount,unit,date,description,transport_type
# transport,50,km,2024-01-15,Commute to work,car
# transport,20,km,2024-01-15,Grocery shopping,bus
# transport,500,km,2024-01-16,Weekend trip,flight
# energy,120,kWh,2024-01-15,Monthly electricity bill,
# food,1.5,kg,2024-01-15,Beef dinner,beef
# food,0.5,kg,2024-01-16,Chicken lunch,chicken
# purchase,75,USD,2024-01-15,Online shopping,
# purchase,25,EUR,2024-01-16,Book purchase,
# transport,15,km,2024-01-17,Doctor visit,car
# energy,45,kWh,2024-01-17,Heating usage,
